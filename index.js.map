{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '50757194-f2b273e514caa2f992e1a47fc';\n\nexport const getImagesByQuery = async (query) => {\n    try {\n        const response = await axios.get('https://pixabay.com/api/', {\n            params: {\n                key: API_KEY,\n                q: query,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n            },\n        });\n        return response.data.hits;\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        throw error;\n    }\n};","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport const createGallery = (images) => {\n    const gallery = document.querySelector('.gallery');\n    const markup = images.map(image => `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" class=\"lightbox\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            </a>\n            <div class=\"image-info\">\n                <p><strong>Likes</strong> ${image.likes}</p>\n                <p><strong>Views</strong> ${image.views}</p>\n                <p><strong>Comments</strong> ${image.comments}</p>\n                <p><strong>Downloads</strong> ${image.downloads}</p>\n            </div>\n        </li>\n    `).join('');\n\n    gallery.innerHTML = markup;\n\n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n    } else {\n        lightbox.refresh();\n    }\n};\n\nexport const clearGallery = () => {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = ''; \n};\n\nexport const showLoader = () => {\n    const loader = document.querySelector('.loader');\n    loader.style.display = 'block';\n};\n\nexport const hideLoader = () => {\n    const loader = document.querySelector('.loader');\n    loader.style.display = 'none';\n};","import { getImagesByQuery } from './js/pixabay-api.js';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js'; // Импортируем функции\nimport iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const searchText = form.elements['search-text'].value.trim();\n\n    if (!searchText) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(searchText)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                return;\n            }\n\n            createGallery(images); \n        })\n        .catch(error => {\n            iziToast.error({\n                message: 'An error occurred while fetching images. Please try again later.',\n                position: 'topRight',\n            });\n        })\n        .finally(() => {\n            hideLoader();\n        });\n    \n    form.elements['search-text'].value = '';\n});\n"],"names":["API_KEY","getImagesByQuery","query","axios","error","lightbox","createGallery","images","gallery","markup","image","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","form","event","searchText","iziToast"],"mappings":"+vBAEA,MAAMA,EAAU,qCAEHC,EAAmB,MAAOC,GAAU,CAC7C,GAAI,CAUA,OATiB,MAAMC,EAAM,IAAI,2BAA4B,CACzD,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACb,CAAS,GACe,KAAK,IACxB,OAAQE,EAAO,CACZ,cAAQ,MAAM,uBAAwBA,CAAK,EACrCA,CACT,CACL,ECjBA,IAAIC,EAEG,MAAMC,EAAiBC,GAAW,CACrC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,IAAIG,GAAS;AAAA;AAAA,uBAEhBA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,4CAGtBA,EAAM,KAAK;AAAA,4CACXA,EAAM,KAAK;AAAA,+CACRA,EAAM,QAAQ;AAAA,gDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAG1D,EAAE,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EAEfJ,EAMDA,EAAS,QAAO,EALhBA,EAAW,IAAIM,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC1B,CAAS,CAIT,EAEaC,EAAe,IAAM,CAC9B,MAAMJ,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,EAEaK,EAAa,IAAM,CAC5B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAC3B,EAEaC,EAAa,IAAM,CAC5B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MAC3B,ECzCME,EAAO,SAAS,cAAc,OAAO,EAC3B,SAAS,cAAc,UAAU,EAEjDA,EAAK,iBAAiB,SAAWC,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAaF,EAAK,SAAS,aAAa,EAAE,MAAM,OAEtD,GAAI,CAACE,EAAY,CACbC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDP,IACAC,IAEAZ,EAAiBiB,CAAU,EACtB,KAAKX,GAAU,CACZ,GAAIA,EAAO,SAAW,EAAG,CACrBY,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CAEDb,EAAcC,CAAM,CAChC,CAAS,EACA,MAAMH,GAAS,CACZe,EAAS,MAAM,CACX,QAAS,mEACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXJ,GACZ,CAAS,EAELC,EAAK,SAAS,aAAa,EAAE,MAAQ,EACzC,CAAC"}